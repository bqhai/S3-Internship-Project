
@{
    ViewBag.Title = "Employee";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}
@model List<Model_CellphoneStore.EmployeeMapped>

<div class="container-fluid">
    <div class="row emp-header">
        <div class="col-sm-6 emp-title">
            <h2>Nhân viên</h2>
        </div>
        <div class="col-sm-6 add-employee">
            @*<a href="#" data-toggle="modal" class="btn btn-success">Thêm nhân viên</a>*@
        </div>
    </div>
    <div class="emp-content">
        <div class="emp-table">
            <table class="table-bordered table-hover" `>
                <thead>
                    <tr>
                        <th>Họ tên</th>
                        <th>Tên đăng nhập</th>
                        <th>Email</th>
                        <th>Số điện thoại</th>
                        <th>Trạng thái</th>
                        <th>Sửa</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td id="name">@item.Name</td>
                            <td>@item.Username</td>
                            <td>@item.Email</td>
                            <td id="phone-number">@item.PhoneNumber</td>
                            @if (item.Status)
                            {
                                <td id="status"><span class="label label-success">Đang làm</span></td>
                            }
                            else
                            {
                                <td id="status"><span class="label label-warning">Nghỉ làm</span></td>
                            }
                            <td id="col-actions">
                                <a href="#@item.EmployeeID" data-toggle="modal"><i class="fa fa-pencil" aria-hidden="true"></i></a>
                            </td>
                        </tr>
                    }
                    <tr>
                        <td colspan="6" id="add-employee"><a href="#addEmployee" data-toggle="modal"><i class="fa fa-plus-circle fa-3x" aria-hidden="true"></i></a></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    @foreach (var item in Model)
    {
        <div id="@item.EmployeeID" class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <form method="post" action="@Url.Action("UpdateEmployee", "Admin", new { employeeID = item.EmployeeID})">
                        <div class="modal-header">
                            <h4 class="modal-title">Cập nhật thông tin nhân viên</h4>
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        </div>
                        <div class="modal-body">
                            <div class="form-group">
                                <label>Họ Tên</label>
                                <input type="text" class="form-control" name="Name" value="@item.Name" required>
                            </div>
                            <div class="form-group">
                                <label>Email</label>
                                <input type="email" class="form-control" name="Email" value="@item.Email" required>
                            </div>
                            <div class="form-group">
                                <label>Số điện thoại</label>
                                <input type="tel" pattern="^[0-9]{10}$" class="form-control" name="PhoneNumber" value="@item.PhoneNumber" required>
                            </div>
                            <div class="form-group">
                                <label>Ngày sinh</label>
                                <input type="date" class="form-control" name="DateOfBirth" value="@item.DateOfBirth" required>
                            </div>
                            <div class="form-group">
                                <label>Giới tính</label>
                                <div class="form-inline">
                                    @if (item.Gender == "Nam")
                                    {
                                        <label class="radio-inline">
                                            <input type="radio" class="radio-inline" name="Gender" value="Nam" checked />Nam
                                        </label>
                                        <label class="radio-inline">
                                            <input type="radio" class="radio-inline" name="Gender" value="Nữ" />Nữ
                                        </label>
                                    }
                                    else
                                    {
                                        <label class="radio-inline">
                                            <input type="radio" class="radio-inline" name="Gender" value="Nam" />Nam
                                        </label>
                                        <label class="radio-inline">
                                            <input type="radio" class="radio-inline" name="Gender" value="Nữ" checked />Nữ
                                        </label>
                                    }
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Địa chỉ</label>
                                <textarea class="form-control" name="Address" required>@item.Address</textarea>
                            </div>
                            <div class="form-group">
                                <label>Trạng thái</label>
                                <div class="form-inline">
                                    @if (item.Status)
                                    {
                                        <label class="radio-inline">
                                            <input type="radio" class="radio-inline" name="Status" value="True" checked />Đang làm
                                        </label>
                                        <label class="radio-inline">
                                            <input type="radio" class="radio-inline" name="Status" value="False" />Nghỉ làm
                                        </label>
                                    }
                                    else
                                    {
                                        <label class="radio-inline">
                                            <input type="radio" class="radio-inline" name="Status" value="True" />Đang làm
                                        </label>
                                        <label class="radio-inline">
                                            <input type="radio" class="radio-inline" name="Status" value="False" checked />Nghỉ làm
                                        </label>
                                    }
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <input type="button" class="btn btn-default" data-dismiss="modal" value="Hủy">
                            <input type="submit" class="btn btn-success" value="Lưu">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    }
    <div id="addEmployee" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <form method="post" action="@Url.Action("AddNewEmployee", "Admin")">
                    <div class="modal-header">
                        <h4 class="modal-title">Thêm nhân viên</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label>Họ Tên</label>
                            <input type="text" class="form-control" name="Name" required>
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" class="form-control" name="Email" required>
                        </div>
                        <div class="form-group">
                            <label>Số điện thoại</label>
                            <input type="tel" pattern="^[0-9]{10}$" class="form-control" name="PhoneNumber" required>
                        </div>
                        <div class="form-group">
                            <label>Ngày sinh</label>
                            <input type="date" class="form-control" name="DateOfBirth" required>
                        </div>
                        <div class="form-group">
                            <label>Giới tính</label>
                            <div class="form-inline">
                                <label class="radio-inline">
                                    <input type="radio" class="radio-inline" name="Gender" value="Nam" checked />Nam
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" class="radio-inline" name="Gender" value="Nữ" />Nữ
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Địa chỉ</label>
                            <textarea class="form-control" name="Address" required></textarea>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <input type="button" class="btn btn-default" data-dismiss="modal" value="Hủy">
                        <input type="submit" class="btn btn-success" value="Lưu">
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
